### MLproject2
Project for the EPFL Machine Learning course done in the scope of ML4Science.

## Installation of Python Env

First install the environment project-env
`python3 -m venv project-env` 

Connect yourself to this newly created env
`source project-env/bin/activate`

Then install all requirements : 
`pip install -r utils/requirements.txt`

Enjoy !

Tested on MACOSX Catalina. Tensorflow-GPU for DELTA was not tested. 

## Launching the training of DELTA models 

All the path to the training dataset folder and to the model file are in config.py. All the path should be correct. It needs the folder data/ to be in the root of the project folder.

To launch segmentation training : 

`python3 DELTA_train_segmentation.py`

To launch cell tracking training :

`python3 DELTA_train_tracking.py`

# Prediction using already built DELTA models 

All the path to the training dataset folder and to the model file are in config.py. All the path should be correct. It needs the folder data/ to be in the root of the project folder.

To launch segmentation training : 

`python3 DELTA_train_segmentation.py` i

WARNING : the training above can take up to 48 hours to run ! Although, the first models are written in less than 5 minutes. Also be careful because this training will erase the models in data/models. To use the fully trained models, you might have to download the folder data/ again after this step.

To launch cell tracking training : 

` python3 DELTA_train_tracking.py`

WARNING : the training above can take up to 12 hours to run ! Although, the first models are written in less than 5 minutes. Also be careful because this training will erase the models in data/models. To use the fully trained models, you might have to download the folder data/ again after this step.

# Segmentation with ILASTIK
Run 'PROJECT_Segmentation.ipynb' to generate 'video1.tiff' and 'video2.tiff', that will be used in order to create the segmentation thanks to Ilastik. The first video is the training set, the second the test set. The files generated by ILASTIK are called 'seg_nonbinary_test.tiff' and 'seg_nonbinary_train.tiff' and need to be processed. They illustate the segmentation with the boundary of the cell, the interior of the cell as well as its kernel. The Jupyter notebook then processes these files, smooth them, and create binary image sequences 'ilastik_train.tiff' and 'lastik_test.tiff'.


# Segmentation with ILASTIK
Run 'PROJECT_Segmentation.ipynb' to generate 'video1.tiff' and 'video2.tiff', that will be used in order to create the segmentation thanks to Ilastik. The first video is the training set, the second the test set. The files generated by ILASTIK are called 'seg_nonbinary_test.tiff' and 'seg_nonbinary_train.tiff' and need to be processed. They illustate the segmentation with the boundary of the cell, the interior of the cell as well as its kernel. The Jupyter notebook then processes these files, smooth them, and create binary image sequences 'ilastik_train.tiff' and 'lastik_test.tiff'. 

